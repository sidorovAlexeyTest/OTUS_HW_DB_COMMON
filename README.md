# OTUS_HW_DB_COMMON
Репозиторий для домашних заданий ОТУС Базы Данных. Общие сведения.

### Диграмма для базы данных застройщиков, их объектов и покупателей.

![диаграмма](https://github.com/sidorovAlexeyTest/OTUS_HW_DB_COMMON/blob/main/img/postgres%20-%20otus_hw_1.png)
В качестве основной СУБД выбрана postgres 15

### Бизнес цель: Создание сайта агрегатора для покупки и продажи квартир
> Для справки про табличку **"buyer"**. Так как строение БД довольно простое, именно для обучения, была добавлена табличка **"buyer"** имеющая связь *ManyToMany*.
* **"housing_complex"** - информация о застройщике
* **"house"** - информация о здании
* **"hb_object"** - информация об объекте продажи(квартира)
* **"object_space"** - информация об участвках объекта(комната, коридор, ванная комната...)
* **"buyer"** - информация о покупателе
* **"buyer_hb_object_link"** - линковочная таблица для связки покупатель-объект
* **_type** и **_status** - таблицы типов и статусов. Для каждого объекта свои типы и статусы для соблюдения консистентности данных.

# Задание 3
> - Развернуть контейнер с PostgreSQL или установить СУБД на виртуальную машину.
> - Запустить сервер.
> - Создать клиента с подключением к базе данных postgres через командную строку.
> - Подключиться к серверу используя pgAdmin или другое аналогичное приложение.

### Работу будем производить через Docker
Скачал образ postgres 15.7
![](./img/hw_3/Скачал%20образ.png)\
Запустил контейнер на порту 5432 с пробросом порта 5432
![](./img/hw_3/Запустил.png)\
Подключился к контейнеру\
![](./img/hw_3/подклучился%20к%20контейнеру.png)\
Подключился к СУБД через пользователя postgres\
![](./img/hw_3/Подключение%20к%20Postgres.png)\
Создал новую Базу Данных **test_db**\
![](./img/hw_3/Создали%20базу%20данных%20test_db.png)\
Подключился к новой базе данных **test_db**\
![](./img/hw_3/коннект%20к%20новой%20базе%20данных.png)\
Создал нового пользователя **dev**\
![](./img/hw_3/Создали%20пользователя.png)\
Добавил права пользователя **dev**\
![](./img/hw_3/Добавили%20права%20пользователю%20dev.png)\
Подключились через cli в контейнере через нового пользователя **dev** к базе данных **test_db**\
![](./img/hw_3/Подключились%20через%20нового%20пользователя.png)\
Настроили подключение из вне через Dbeaver как пользователь **dev** к базе данных **test_db**\
![](./img/hw_3/Настройка%20соединения%20через%20dbeaver.png)\
Произвели тест соединения\
![](./img/hw_3/успешный%20тест%20подключения.png)\
Результат подключения к базе данных **test_db**\
![](./img/hw_3/Можно%20работать.png)

